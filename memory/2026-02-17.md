# 2026-02-17

## Sam Identity Crisis (discovered ~10:30 PM ET)
- Bridget reported Sam was telling a client (Javier @ Click Seguros) internal BJS team structure
- Sam thought he was Santos — IDENTITY.md had Santos's info
- Root cause: Santos committed his personal files (IDENTITY.md, USER.md, MEMORY.md) to the shared skills repo (commit `848f7dc`, Feb 15). Sam did `git pull` and got overwritten.
- Sam shared founders names, all agent names + roles with Javier. Security incident logged.
- Fix: removed identity files from repo, added to .gitignore (commit `374af30`)
- Prepared redeploy package in `deploy/sam-fix/` (commit `6e52238`) — Johan needs to run it on Sam's machine
- Sam accepted new identity in-context but FILES still wrong — will revert on restart unless Johan overwrites

## Data Quality Gate (commit `91e46f6`)
- Built alert system into `remote-analyze.cjs` — if daily file < 5 lines, generates DATA QUALITY ALERT instead of silently exiting
- Problem it solves: nightly report ran with empty data and nobody was notified

## Conversation Streaming Pipeline (commit `d6c7a5d`)
- Created `conversations` table in Supabase
- `sync-conversations.cjs` — runs on field agent, reads .jsonl transcripts, pushes all messages to Supabase
- `query-conversations.cjs` — runs on HQ, query by agent/client/user/date, stats view, chat view
- Johan needs to set up cron on Sam's machine: `node rag/sync-conversations.cjs --hours 2` every 30 min
- Bridget requested maximum data visibility on field agent activity

## Nightly Report Fix
- Telegram target for Bridget changed from "bridget" to chat ID `5063274787`

## Other
- Verified Saber identity is correct (not contaminated)
- Sage still offline
- Cleaned up 31 stale cancelled research tasks → acknowledged

### Git commit — 01:18
- **Commit:** `5c1d951` on `workspace`
- **Message:** Fix conversation parser for OpenClaw v3 transcript format
- **Files:** 1 changed
- **Stats:**  1 file changed, 34 insertions(+), 29 deletions(-)
- **Changed:** rag/sync-conversations.cjs

### Git feature — 07:52
- **Commit:** `2235b2e` on `workspace`
- **Message:** feat: consent logging + client-scoped storage for field agents
- **Files:** 5 changed
- **Stats:**  5 files changed, 362 insertions(+)
- **Changed:** clients/clickseguros/access-log.md,clients/clickseguros/team-contacts.md,deploy/sam-fix/DEPLOY-INSTRUCTIONS.md,skills/field-security/SKILL.md,skills/field-security/scripts/scan-consent.cjs

## Field Security — Consent Logging (commit `2235b2e`)
- Built `scan-consent.cjs` — Layer 5 of field-security skill
- Auto-detects: access grants, contact info, team data, credentials, document shares, retention requests
- Writes to `clients/{name}/access-log.md` (audit trail) and `clients/{name}/team-contacts.md` (deduplicated contacts)
- Credential detection exits code 1 → agent warns client, escalates to Johan
- Client-scoped storage rules: data stays under `clients/{clientname}/`, never cross-client
- Created initial `clients/clickseguros/` with test data from Javier's actual messages
- Updated SKILL.md with Layer 5 documentation
- Flagged credential flow question for Johan in deploy instructions
- Bridget reviewed and approved the approach:
  - PII: Keep as operational data (clients gave it freely), just scope it properly
  - Credentials: Park for Johan to define storage flow
  - Data minimization: Not now — we're in learning mode
  - Cross-client isolation: Already designed, awaiting Sam deploy

### Git feature — 08:36
- **Commit:** `a74d887` on `workspace`
- **Message:** feat: utility scoring with anti-bias mechanisms
- **Files:** 3 changed
- **Stats:**  3 files changed, 95 insertions(+), 3 deletions(-)
- **Changed:** rag/utility-tracker.cjs,skills/agentic-learning/SKILL.md,skills/memory-retriever/scripts/search-supabase.cjs

## Utility Scoring + Anti-Bias (commit `a74d887`)
- Added 4 anti-bias mechanisms to retrieval: decay (30-day half-life), novelty bonus (7-day window for untested entries), epsilon-greedy exploration (15%), signal counting
- Modified `computeFinalScore()` in search-supabase.cjs
- Updated agentic-learning SKILL.md with full documentation
- Bridget's key insight: pure utility scoring creates exploitation bias — same entries dominate forever, no novelty
- Pushed to shared repo — all agents get it on next pull

## KG Ontology Draft (sub-agent spawned)
- Bridget wants to build for scale — imagine clients at 6 months with massive data
- Her question: relational DB or graph for cross-client insight discovery?
- Answer: graph, clearly — multi-hop relationship queries are natural
- Sub-agent drafting ontology at research/kg-ontology-v1.md
- Plan: Phase 1 utility scoring (done), Phase 2 ontology + prototype (this month), Phase 3 stand up graph DB, Phase 4 all agents feed the graph

## Client Pattern Files → Searchable Memory
- Bridget flagged: MD files in clients/ won't get read by field agents
- Decision: write patterns to Supabase as embedded searchable memory, not loose files
- This way retrieval surfaces patterns automatically when relevant
